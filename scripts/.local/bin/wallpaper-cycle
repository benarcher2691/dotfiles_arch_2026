#!/bin/bash
# Cycle through Hyprland default wallpapers using swww

WALLPAPERS=(
    "$HOME/.local/share/wallpapers/wall0.jpg"
    "$HOME/.local/share/wallpapers/wall1.jpg"
    "$HOME/.local/share/wallpapers/wall2.jpg"
)
STATE_FILE="$HOME/.cache/wallpaper-index"

# Get current index (default to -1 so first cycle gives 0)
if [[ -f "$STATE_FILE" ]]; then
    INDEX=$(cat "$STATE_FILE")
else
    INDEX=-1
fi

# Cycle to next wallpaper
INDEX=$(( (INDEX + 1) % ${#WALLPAPERS[@]} ))
WALLPAPER="${WALLPAPERS[$INDEX]}"

# Save new index
echo "$INDEX" > "$STATE_FILE"

# Apply wallpaper with smooth transition
swww img "$WALLPAPER" --transition-type none
